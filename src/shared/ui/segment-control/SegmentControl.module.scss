@use '@/shared/styles/animations';
@use '@/shared/styles/mixins' as *;
@use '@/shared/styles/variables' as *;

.segmentControls {
    --muted: #6b7280;
    --ring: rgba(0, 0, 0, 0.08);

    position: relative;
    display: inline-grid;
    grid-auto-flow: column;
    gap: 2px;
    // width: max-content;
    padding: 4px;
    border-radius: 64px;
    background: $white-transparent;
    box-shadow: inset 0 0 0 1px var(--ring);
    -webkit-user-select: none;
    user-select: none;
    outline: none;
    transition: background 0.2s ease;

    &:focus-visible {
        box-shadow:
            inset 0 0 0 1px var(--ring),
            0 0 0 3px rgba(59, 130, 246, 0.35);
    }

    &[data-value='deposit'] {
        .thumb {
            background: rgba($neon-blue, 0.6);
        }
    }

    &[data-value='withdraw'] {
        .thumb {
            background: rgba($neon-orange, 0.6);
        }
    }

    .thumb {
        position: absolute;
        top: 4px;
        left: 0;
        height: calc(100% - 8px);
        width: 0; /* выставляется скриптом */
        border-radius: 64px;
        box-shadow:
            0 1px 2px rgba(0, 0, 0, 0.05),
            0 0 0 1px rgba(0, 0, 0, 0.08);
        transition:
            transform 0.2s ease,
            width 0.2s ease;
        pointer-events: none;
        will-change: transform, width;
    }

    .segment {
        position: relative;
        z-index: 1;
        width: max-content;
        appearance: none;
        border: 0;
        background: transparent;
        color: var(--fg);
        padding: 8px 14px;
        border-radius: 64px;
        cursor: pointer;
        white-space: nowrap;
        transition:
            color 0.2s ease,
            opacity 0.2s ease;

        &:hover {
            opacity: 0.9;
        }

        &[data-active] {
            /* контраст текста на белом "thumb" */
        }

        &disabled {
            cursor: not-allowed;
            color: var(--muted);
            opacity: 0.6;
        }
    }
}

/* Варианты */
.filled {
}

.ghost {
    background: transparent;
    box-shadow: none;

    .thumb {
        background: rgba(0, 0, 0, 0.06);
        box-shadow: none;
    }
}

.disabled {
    opacity: 0.6;
    pointer-events: none;
}
